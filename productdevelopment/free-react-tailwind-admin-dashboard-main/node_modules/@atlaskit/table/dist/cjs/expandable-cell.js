"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _react = _interopRequireWildcard(require("react"));
var _new = require("@atlaskit/button/new");
var _chevronDownHipchatChevronDown = _interopRequireDefault(require("@atlaskit/icon/core/migration/chevron-down--hipchat-chevron-down"));
var _chevronUpHipchatChevronUp = _interopRequireDefault(require("@atlaskit/icon/core/migration/chevron-up--hipchat-chevron-up"));
var _useExpand2 = _interopRequireDefault(require("./hooks/use-expand"));
var _expandableCell = require("./ui/expandable-cell");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != _typeof(e) && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
/**
 * __Expandable cell__
 *
 * A cell with an expand button that controls the expanded state
 * of the `<ExpandableRow>`.
 */
var ExpandableCell = /*#__PURE__*/(0, _react.memo)(function () {
  var _useExpand = (0, _useExpand2.default)(),
    isExpanded = _useExpand.isExpanded,
    toggleExpanded = _useExpand.toggleExpanded;
  var handleClick = (0, _react.useCallback)(function () {
    toggleExpanded();
  }, [toggleExpanded]);
  var Icon = isExpanded ? _chevronUpHipchatChevronUp.default : _chevronDownHipchatChevronDown.default;
  return /*#__PURE__*/_react.default.createElement(_expandableCell.ExpandableCell, {
    as: "td"
  }, /*#__PURE__*/_react.default.createElement(_new.IconButton, {
    spacing: "compact",
    appearance: "subtle",
    icon: function icon(iconProps) {
      return /*#__PURE__*/_react.default.createElement(Icon, (0, _extends2.default)({}, iconProps, {
        LEGACY_size: "small",
        size: "small"
      }));
    },
    label: "Expand row",
    onClick: handleClick,
    "aria-pressed": isExpanded
  }));
});
var _default = exports.default = ExpandableCell;